{"version":3,"sources":["services/Api.js","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","components/moviesPage/MoviesPage.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/moviesPage/MoviesPage.js"],"names":["axios","defaults","baseURL","fetchTrending","a","get","process","movies","console","log","fetchMovie","id","movie","fetchCast","casts","fetchReviews","reviews","fetchQueryMovies","query","queryMovies","strictUriEncode","require","objectAssign","encode","value","opts","strict","encodeURIComponent","exports","extract","str","split","parse","formatter","result","arrayFormat","key","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","Object","create","trim","forEach","param","parts","shift","val","length","join","decodeURIComponent","keys","sort","reduce","Boolean","Array","isArray","keysSorter","input","b","Number","map","stringify","obj","index","encoderForArrayFormat","slice","val2","push","filter","x","module","c","charCodeAt","toString","toUpperCase","_defineProperty","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","source","getOwnPropertyDescriptors","defineProperties","MoviesPageList","lazy","MoviesPage","state","message","getQueryMovies","then","setState","data","results","handleChange","e","handleSubmit","preventDefault","elements","props","history","location","search","this","queryString","className","styles","Searchbar","SearchForm","onSubmit","SearchFormInput","type","placeholder","autoComplete","onChange","SearchFormButton","fallback","Loader","films","Component"],"mappings":"6TAEAA,IAAMC,SAASC,QAAU,+BAIlB,IAAMC,EAAa,uCAAG,4BAAAC,EAAA,+EAEJJ,IAAMK,IAAN,sCACYC,qCAHR,cAEnBC,EAFmB,yBAMlBA,GANkB,gCAQzBC,QAAQC,IAAR,MARyB,yDAAH,qDAcbC,EAAU,uCAAG,WAAMC,GAAN,eAAAP,EAAA,+EAEFJ,IAAMK,IAAN,iBACRM,EADQ,oBACML,mCADN,oBAFE,cAEhBM,EAFgB,yBAMfA,GANe,gCAQtBJ,QAAQC,IAAR,MARsB,yDAAH,sDAYVI,EAAS,uCAAG,WAAMF,GAAN,eAAAP,EAAA,+EAEDJ,IAAMK,IAAN,iBACRM,EADQ,4BACcL,qCAHb,cAEfQ,EAFe,yBAKdA,GALc,gCAOrBN,QAAQC,IAAR,MAPqB,yDAAH,sDAaTM,EAAY,uCAAG,WAAMJ,GAAN,eAAAP,EAAA,+EAEFJ,IAAMK,IAAN,iBACVM,EADU,4BACYL,mCADZ,2BAFE,cAElBU,EAFkB,yBAKjBA,GALiB,gCAOxBR,QAAQC,IAAR,MAPwB,yDAAH,sDAaZQ,EAAgB,uCAAG,WAAMC,GAAN,eAAAd,EAAA,+EAEFJ,IAAMK,IAAN,+BACAC,mCADA,iCACyDY,EADzD,gCAFE,cAEtBC,EAFsB,yBAKrBA,GALqB,gCAO5BX,QAAQC,IAAR,MAP4B,yDAAH,uD,gCCzD7B,IAAIW,EAAkBC,EAAQ,IAC1BC,EAAeD,EAAQ,IA0F3B,SAASE,EAAOC,EAAOC,GACtB,OAAIA,EAAKF,OACDE,EAAKC,OAASN,EAAgBI,GAASG,mBAAmBH,GAG3DA,EAiBRI,EAAQC,QAAU,SAAUC,GAC3B,OAAOA,EAAIC,MAAM,KAAK,IAAM,IAG7BH,EAAQI,MAAQ,SAAUF,EAAKL,GAG9B,IAAIQ,EA/EL,SAA8BR,GAC7B,IAAIS,EAEJ,OAAQT,EAAKU,aACZ,IAAK,QACJ,OAAO,SAAUC,EAAKZ,EAAOa,GAC5BH,EAAS,aAAaI,KAAKF,GAE3BA,EAAMA,EAAIG,QAAQ,WAAY,IAEzBL,QAKoBM,IAArBH,EAAYD,KACfC,EAAYD,GAAO,IAGpBC,EAAYD,GAAKF,EAAO,IAAMV,GAR7Ba,EAAYD,GAAOZ,GAWtB,IAAK,UACJ,OAAO,SAAUY,EAAKZ,EAAOa,GAC5BH,EAAS,UAAUI,KAAKF,GACxBA,EAAMA,EAAIG,QAAQ,QAAS,IAEtBL,OAG2BM,IAArBH,EAAYD,GAKvBC,EAAYD,GAAO,GAAGK,OAAOJ,EAAYD,GAAMZ,GAJ9Ca,EAAYD,GAAO,CAACZ,GAHpBa,EAAYD,GAAOZ,GAUtB,QACC,OAAO,SAAUY,EAAKZ,EAAOa,QACHG,IAArBH,EAAYD,GAKhBC,EAAYD,GAAO,GAAGK,OAAOJ,EAAYD,GAAMZ,GAJ9Ca,EAAYD,GAAOZ,IAsCPkB,CAFhBjB,EAAOH,EAAa,CAACa,YAAa,QAASV,IAMvCkB,EAAMC,OAAOC,OAAO,MAExB,MAAmB,kBAARf,EACHa,GAGRb,EAAMA,EAAIgB,OAAOP,QAAQ,YAAa,MAMtCT,EAAIC,MAAM,KAAKgB,SAAQ,SAAUC,GAChC,IAAIC,EAAQD,EAAMT,QAAQ,MAAO,KAAKR,MAAM,KAGxCK,EAAMa,EAAMC,QACZC,EAAMF,EAAMG,OAAS,EAAIH,EAAMI,KAAK,UAAOb,EAI/CW,OAAcX,IAARW,EAAoB,KAAOG,mBAAmBH,GAEpDlB,EAAUqB,mBAAmBlB,GAAMe,EAAKR,MAGlCC,OAAOW,KAAKZ,GAAKa,OAAOC,QAAO,SAAUvB,EAAQE,GACvD,IAAIe,EAAMR,EAAIP,GAQd,OAPIsB,QAAQP,IAAuB,kBAARA,IAAqBQ,MAAMC,QAAQT,GAE7DjB,EAAOE,GAvDV,SAASyB,EAAWC,GACnB,OAAIH,MAAMC,QAAQE,GACVA,EAAMN,OACc,kBAAVM,EACVD,EAAWjB,OAAOW,KAAKO,IAAQN,MAAK,SAAUpD,EAAG2D,GACvD,OAAOC,OAAO5D,GAAK4D,OAAOD,MACxBE,KAAI,SAAU7B,GAChB,OAAO0B,EAAM1B,MAIR0B,EA4CSD,CAAWV,GAEzBjB,EAAOE,GAAOe,EAGRjB,IACLU,OAAOC,OAAO,QA3BTF,GA8BTf,EAAQsC,UAAY,SAAUC,EAAK1C,GAClC,IAQIQ,EAzKL,SAA+BR,GAC9B,OAAQA,EAAKU,aACZ,IAAK,QACJ,OAAO,SAAUC,EAAKZ,EAAO4C,GAC5B,OAAiB,OAAV5C,EAAiB,CACvBD,EAAOa,EAAKX,GACZ,IACA2C,EACA,KACCf,KAAK,IAAM,CACZ9B,EAAOa,EAAKX,GACZ,IACAF,EAAO6C,EAAO3C,GACd,KACAF,EAAOC,EAAOC,IACb4B,KAAK,KAGT,IAAK,UACJ,OAAO,SAAUjB,EAAKZ,GACrB,OAAiB,OAAVA,EAAiBD,EAAOa,EAAKX,GAAQ,CAC3CF,EAAOa,EAAKX,GACZ,MACAF,EAAOC,EAAOC,IACb4B,KAAK,KAGT,QACC,OAAO,SAAUjB,EAAKZ,GACrB,OAAiB,OAAVA,EAAiBD,EAAOa,EAAKX,GAAQ,CAC3CF,EAAOa,EAAKX,GACZ,IACAF,EAAOC,EAAOC,IACb4B,KAAK,MAwIMgB,CAFhB5C,EAAOH,EANQ,CACdC,QAAQ,EACRG,QAAQ,EACRS,YAAa,QAGgBV,IAI9B,OAAO0C,EAAMvB,OAAOW,KAAKY,GAAKX,OAAOS,KAAI,SAAU7B,GAClD,IAAIe,EAAMgB,EAAI/B,GAEd,QAAYI,IAARW,EACH,MAAO,GAGR,GAAY,OAARA,EACH,OAAO5B,EAAOa,EAAKX,GAGpB,GAAIkC,MAAMC,QAAQT,GAAM,CACvB,IAAIjB,EAAS,GAUb,OARAiB,EAAImB,QAAQvB,SAAQ,SAAUwB,QAChB/B,IAAT+B,GAIJrC,EAAOsC,KAAKvC,EAAUG,EAAKmC,EAAMrC,EAAOkB,YAGlClB,EAAOmB,KAAK,KAGpB,OAAO9B,EAAOa,EAAKX,GAAQ,IAAMF,EAAO4B,EAAK1B,MAC3CgD,QAAO,SAAUC,GACnB,OAAOA,EAAEtB,OAAS,KAChBC,KAAK,KAAO,K,gCC1MhBsB,EAAO/C,QAAU,SAAUE,GAC1B,OAAOH,mBAAmBG,GAAKS,QAAQ,YAAY,SAAUqC,GAC5D,MAAO,IAAMA,EAAEC,WAAW,GAAGC,SAAS,IAAIC,mB,mBCF5CJ,EAAO/C,QAAU,CAAC,UAAY,8BAA8B,WAAa,+BAA+B,iBAAmB,qCAAqC,sBAAwB,0CAA0C,gBAAkB,oCAAoC,mBAAmB,uC,gCCD5R,SAASoD,EAAgBb,EAAK/B,EAAKZ,GAYhD,OAXIY,KAAO+B,EACTvB,OAAOqC,eAAed,EAAK/B,EAAK,CAC9BZ,MAAOA,EACP0D,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZjB,EAAI/B,GAAOZ,EAGN2C,ECVT,SAASkB,EAAQC,EAAQC,GACvB,IAAIhC,EAAOX,OAAOW,KAAK+B,GAEvB,GAAI1C,OAAO4C,sBAAuB,CAChC,IAAIC,EAAU7C,OAAO4C,sBAAsBF,GACvCC,IAAgBE,EAAUA,EAAQhB,QAAO,SAAUiB,GACrD,OAAO9C,OAAO+C,yBAAyBL,EAAQI,GAAKR,eAEtD3B,EAAKiB,KAAKoB,MAAMrC,EAAMkC,GAGxB,OAAOlC,EAGM,SAASsC,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU5C,OAAQ2C,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNV,EAAQzC,OAAOqD,IAAS,GAAMlD,SAAQ,SAAUX,GAC9C,EAAe0D,EAAQ1D,EAAK6D,EAAO7D,OAE5BQ,OAAOsD,0BAChBtD,OAAOuD,iBAAiBL,EAAQlD,OAAOsD,0BAA0BD,IAEjEZ,EAAQzC,OAAOqD,IAASlD,SAAQ,SAAUX,GACxCQ,OAAOqC,eAAea,EAAQ1D,EAAKQ,OAAO+C,yBAAyBM,EAAQ7D,OAKjF,OAAO0D,E,sIC3BHM,EAAiBC,gBAAK,kBAC1B,gCAGIC,E,4MACJC,MAAQ,CACNrF,MAAO,GACPsF,QAAS,KACTrF,YAAa,I,EAafsF,e,sBAAiB,sBAAArG,EAAA,+EAEaa,YACxB,EAAKsF,MAAMrF,OACXwF,MAAK,SAAAxE,GAAM,OAAI,EAAKyE,SAAS,CAAExF,YAAae,EAAO0E,KAAKC,aAJ7C,6DAMb,EAAKF,SAAS,CAAEH,QAAQ,EAAD,KANV,wD,EASjBM,aAAe,SAAAC,GACb,EAAKJ,SAAS,CACZzF,MAAO6F,EAAEjB,OAAOtE,S,EAIpBwF,aAAe,SAAAD,GACbA,EAAEE,iBACF,IAAM/F,EAAQ6F,EAAEjB,OAAOoB,SAAS,GAAG1F,MAC/BN,GACF,EAAKiG,MAAMC,QAAQ5C,KAAnB,OACK,EAAK2C,MAAME,UADhB,IAEEC,OAAO,SAAD,OAAWpG,MAGrB,EAAKuF,eAAe,EAAKF,MAAMrF,Q,kEAlCZ,IAAD,OAClB,GAAIqG,KAAKJ,MAAME,SAASC,OAAQ,CAC9B,IACMpG,EADSsG,IAAYxF,MAAMuF,KAAKJ,MAAME,SAASC,QAChCpG,MACrBD,YAAiBC,GAAOwF,MAAK,SAAAxE,GAAM,OACjC,EAAKyE,SAAS,CAAExF,YAAae,EAAO0E,KAAKC,QAAS3F,gB,+BAgC9C,IAAD,EACwBqG,KAAKhB,MAA5BrF,EADD,EACCA,MAAOC,EADR,EACQA,YACf,OACE,oCACE,yBAAKsG,UAAWC,IAAOC,WACrB,0BAAMF,UAAWC,IAAOE,WAAYC,SAAUN,KAAKP,cACjD,2BACES,UAAWC,IAAOI,gBAClBC,KAAK,SACLC,YAAY,mBACZC,aAAa,MACbzG,MAAON,EACPgH,SAAUX,KAAKT,eAEjB,4BAAQW,UAAWC,IAAOS,iBAAkBJ,KAAK,aAGrD,kBAAC,WAAD,CAAUK,SAAU,kBAACC,EAAA,EAAD,OACjBnH,GAAS,kBAACkF,EAAD,CAAgBlF,MAAOA,EAAOoH,MAAOnH,U,GA9DhCoH,aAqEVjC","file":"static/js/4.6933ac9c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\n\r\n// const key = '0ccd4bf2259c8c1465114b232f00f305';\r\n\r\nexport const fetchTrending = async () => {\r\n  try {\r\n    const movies = await axios.get(\r\n      `/trending/movie/day?api_key=${process.env.REACT_APP_UNIQUE_KEY}`,\r\n    );\r\n\r\n    return movies;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// \"https://api.themoviedb.org/3/movie/582596?api_key=0ccd4bf2259c8c1465114b232f00f305&language=en-US\"\r\n\r\nexport const fetchMovie = async id => {\r\n  try {\r\n    const movie = await axios.get(\r\n      `/movie/${id}?api_key=${process.env.REACT_APP_UNIQUE_KEY}&language=en-US`,\r\n    );\r\n\r\n    return movie;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchCast = async id => {\r\n  try {\r\n    const casts = await axios.get(\r\n      `/movie/${id}/credits?api_key=${process.env.REACT_APP_UNIQUE_KEY}`,\r\n    );\r\n    return casts;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\r\n\r\nexport const fetchReviews = async id => {\r\n  try {\r\n    const reviews = await axios.get(\r\n      `/movie/${id}/reviews?api_key=${process.env.REACT_APP_UNIQUE_KEY}&language=en-US&page=1`,\r\n    );\r\n    return reviews;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\r\n\r\nexport const fetchQueryMovies = async query => {\r\n  try {\r\n    const queryMovies = await axios.get(\r\n      `search/movie?api_key=${process.env.REACT_APP_UNIQUE_KEY}&language=en-US&query=${query}&page=1&include_adult=false`,\r\n    );\r\n    return queryMovies;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"MoviesPage_Searchbar__29Au-\",\"SearchForm\":\"MoviesPage_SearchForm__REumW\",\"SearchFormButton\":\"MoviesPage_SearchFormButton__2EbQW\",\"SearchFormButtonLabel\":\"MoviesPage_SearchFormButtonLabel__2EjzE\",\"SearchFormInput\":\"MoviesPage_SearchFormInput__1DjMQ\",\"SearchForm-input\":\"MoviesPage_SearchForm-input__9KS_z\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component, lazy, Suspense } from 'react';\r\nimport queryString from 'query-string';\r\nimport { fetchQueryMovies } from '../../services/Api';\r\nimport Loader from '../pages/Loader';\r\nimport styles from './MoviesPage.module.css';\r\n\r\nconst MoviesPageList = lazy(() =>\r\n  import('../pages/MoviesPageList'),\r\n);\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    query: '',\r\n    message: null,\r\n    queryMovies: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.search) {\r\n      const parsed = queryString.parse(this.props.location.search);\r\n      const query = parsed.query;\r\n      fetchQueryMovies(query).then(result =>\r\n        this.setState({ queryMovies: result.data.results, query }),\r\n      );\r\n    }\r\n  }\r\n\r\n  getQueryMovies = async () => {\r\n    try {\r\n      const queryMovies = await fetchQueryMovies(\r\n        this.state.query,\r\n      ).then(result => this.setState({ queryMovies: result.data.results }));\r\n    } catch (error) {\r\n      this.setState({ message: error });\r\n    }\r\n  };\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const query = e.target.elements[0].value;\r\n    if (query) {\r\n      this.props.history.push({\r\n        ...this.props.location,\r\n        search: `query=${query}`,\r\n      });\r\n    }\r\n    this.getQueryMovies(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    const { query, queryMovies } = this.state;\r\n    return (\r\n      <>\r\n        <div className={styles.Searchbar}>\r\n          <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n            <input\r\n              className={styles.SearchFormInput}\r\n              type=\"search\"\r\n              placeholder=\"Search movies...\"\r\n              autoComplete=\"off\"\r\n              value={query}\r\n              onChange={this.handleChange}\r\n            />\r\n            <button className={styles.SearchFormButton} type=\"submit\"></button>\r\n          </form>\r\n        </div>\r\n        <Suspense fallback={<Loader />}>\r\n          {query && <MoviesPageList query={query} films={queryMovies} />}\r\n        </Suspense>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}